{{define "modelos_form"}}
<section class="card">
	<h3>{{if .ID}}Editar Modelo{{else}}Novo Modelo{{end}}</h3>

	<form
		{{if .ID}}
			hx-put="/produtos/modelos/{{.ID}}"
		{{else}}
			hx-post="/produtos/modelos"
		{{end}}
		hx-target="#modelos-container"
		hx-swap="outerHTML"
	>

		<input type="hidden" name="id" value="{{.ID}}">

		<label>Nome</label>
		<input name="nome" value="{{.Nome}}" required>

		<label>Linha</label>
		<input name="linha" value="{{.Linha}}">

		<h4>Consumo Base</h4>

		<label>Corte</label>
		<input type="number" name="corte" value="{{.Corte}}">

		<label>Costura</label>
		<input type="number" name="costura" value="{{.Costura}}">

		<label>Acabamento</label>
		<input type="number" name="acabamento" value="{{.Acabamento}}">

		<label>Aviamento</label>
		<input type="number" name="aviamento" value="{{.Aviamento}}">

		<label>Descrição</label>
		<textarea name="descricao">{{.Descricao}}</textarea>

<h4>Consumo por Categoria de Grade</h4>

<div class="grade-grid">

	<label>Infantil (00–08)</label>
	<input type="number" step="0.01" name="grade_infantil"
		value="{{index .ConsumoPorGrade "INFANTIL"}}">

	<label>Juvenil (10–16)</label>
	<input type="number" step="0.01" name="grade_juvenil"
		value="{{index .ConsumoPorGrade "JUVENIL"}}">

	<label>Adulto (PP–GG)</label>
	<input type="number" step="0.01" name="grade_adulto"
		value="{{index .ConsumoPorGrade "ADULTO"}}">

	<label>Extra (XG–Esp)</label>
	<input type="number" step="0.01" name="grade_extra"
		value="{{index .ConsumoPorGrade "EXTRA"}}">

</div>
		<button type="submit">
			{{if .ID}}Atualizar{{else}}Salvar{{end}}
		</button>
	</form>
	{{if .ID}}
	<button
		type="button"
		class="btn-danger"
		hx-delete="/produtos/modelos/{{.ID}}"
		hx-target="#modelos-container"
		hx-swap="outerHTML"
		hx-confirm="Tem certeza que deseja excluir este modelo?"
	>
		Excluir
	</button>
	{{end}}
</section>
{{end}}
